@using Koggo.Domain.Ext;
@model Koggo.Client.Models.Home.UserServicesModel
@{
	ViewData["Title"] = "Home Page";
}

@if (Model.TokenIsValid)
{
	<div id="container">
		<form method="get" asp-action="Index" asp-controller="UserServices">
			<div id="filter-list">
				<h2>Filters</h2>

				<!-- Price Range Filter -->
				<div class="filter-section">
					<h3>Price Range</h3>
					<label for="MinPrice">Min Price</label>
					<input type="number" id="MinPrice" name="MinPrice">
					<label for="MaxPrice">Max Price</label>
					<input type="number" id="MaxPrice" name="MaxPrice">
				</div>
				
				<!-- Categories Filter -->
				<div class="filter-section">
					<h3>Categories</h3>
					<div class="styled-select">
						<select for="Categories" id="Categories" name="Categories" multiple>
							@foreach (var item in Model.ServiceTypes)
							{
								<option value="@item.ToGeo()">@item.ToGeo()</option>
							}
							<!-- Add more categories as needed -->
						</select>
					</div>
				</div>

				<!-- Search -->
				<button type="submit" asp-controller="UserServices" asp-action="Index" value="Search">Search</button>
			</div>
		</form>
		<div id="content">
			@foreach (var userService in Model.UserServices)
			{
				<div class="service-item">
					<div class="service-image">
						<img src="data:image/png;base64,@userService.ThumbNailPhoto" alt="Service Image">
					</div>
					<div class="service-info">
						<h2 class="service-name">Name: @userService.Service.Name</h2>
						@if (!string.IsNullOrWhiteSpace(userService.Service.Description))
						{
							<p class="service-description">Description: @userService.Service.Description <br /> Category: @userService.Service.ServiceType.ToGeo()</p>
						}
						<p class="service-price">Price: $@userService.Price</p>
						<a href="#" class="see-more">See More</a>
					</div>
				</div>
			}

			<div id="pagination-controls">
				<button id="prev-page" disabled>Previous</button>
				<span id="page-num">1</span>
				<button id="next-page">Next</button>
			</div>
		</div>
	</div>
}